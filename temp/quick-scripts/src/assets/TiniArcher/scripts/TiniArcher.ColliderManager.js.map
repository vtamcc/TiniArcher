{"version":3,"sources":["assets\\TiniArcher\\scripts\\TiniArcher.ColliderManager.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAI5E,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAiD,uCAAY;IAA7D;;IAiDA,CAAC;IA7CG,oCAAM,GAAN;QACI,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;IACrD,CAAC;IAED,mCAAK,GAAL;IAEA,CAAC;IAED,8CAAgB,GAAhB,UAAiB,KAAK,EAAE,IAAI;QACxB,IAAI,KAAK,CAAC,GAAG,IAAI,CAAC,EAAE;YAChB,IAAI,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;YAC1D,cAAc,CAAC,YAAY,GAAG,CAAC,CAAC;YAChC,cAAc,CAAC,cAAc,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5C,cAAc,CAAC,eAAe,GAAG,CAAC,CAAC;YACnC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC;YAC9B,+BAA+B;YAC/B,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;YAE5C,2EAA2E;YAC3E,IAAI,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;YACjE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YAElD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,UAAU,CAAC,CAAA;YAC9B,6BAA6B;YAC7B,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YAEhB,sBAAsB;YAEtB,sBAAsB;YAItB,yCAAyC;SAS5C;IAEL,CAAC;IA/CgB,mBAAmB;QADvC,OAAO;OACa,mBAAmB,CAiDvC;IAAD,0BAAC;CAjDD,AAiDC,CAjDgD,EAAE,CAAC,SAAS,GAiD5D;kBAjDoB,mBAAmB","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport TiniArcher_GameView from \"./game/TiniArcher.GameView\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TiniArcher_Collider extends cc.Component {\r\n\r\n\r\n\r\n    onLoad() {\r\n        cc.director.getCollisionManager().enabled = true;\r\n    }\r\n\r\n    start() {\r\n\r\n    }\r\n\r\n    onCollisionEnter(other, self) {\r\n        if (other.tag == 1) {\r\n            let arrowRigidBody = self.node.getComponent(cc.RigidBody);\r\n            arrowRigidBody.gravityScale = 0;\r\n            arrowRigidBody.linearVelocity = cc.v2(0, 0);\r\n            arrowRigidBody.angularVelocity = 0;\r\n            self.node.parent = other.node;\r\n            // Lấy vị trí va chạm chính xác\r\n            let collisionPoint = self.world.aabb.center;\r\n    \r\n            // Chuyển đổi tọa độ va chạm từ không gian thế giới sang không gian của bia\r\n            let localPoint = other.node.convertToNodeSpaceAR(collisionPoint);\r\n            self.node.setPosition(localPoint.x, localPoint.y);\r\n           \r\n            console.log(\"old \",localPoint)\r\n            // Giữ nguyên góc của mũi tên\r\n            self.node.angle;\r\n    \r\n            // Gắn mũi tên vào bia\r\n          \r\n            // Gắn mũi tên vào bia\r\n           \r\n        \r\n    \r\n            // Gắn mũi tên vào bia để nó không rơi ra\r\n           \r\n    \r\n         \r\n        \r\n\r\n    \r\n           \r\n\r\n        }\r\n\r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}